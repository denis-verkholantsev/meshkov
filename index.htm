<!DOCTYPE html>
<html lang="ru">
<head>
    <title>Экскурсия по Дому Мешкова</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" id="metaViewport" content="user-scalable=no, initial-scale=1, width=device-width, viewport-fit=cover" data-tdv-general-scale="0.3"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <script src="lib/tdvplayer.js?v=1731230799024"></script>
    <link rel="preload" href="locale/ru.txt?v=1731230799024" as="fetch" crossorigin="anonymous"/>
	<link rel="preload" href="script.js?v=1731230799024" as="script"/>
	<link rel="preload" href="media/panorama_9D725DD6_BFC8_04C9_41DD_944F0A6C7BE2_0/r/3/0_0.jpg?v=1731230799024" as="image"/>
	<link rel="preload" href="media/panorama_9D725DD6_BFC8_04C9_41DD_944F0A6C7BE2_0/l/3/0_0.jpg?v=1731230799024" as="image"/>
	<link rel="preload" href="media/panorama_9D725DD6_BFC8_04C9_41DD_944F0A6C7BE2_0/u/3/0_0.jpg?v=1731230799024" as="image"/>
	<link rel="preload" href="media/panorama_9D725DD6_BFC8_04C9_41DD_944F0A6C7BE2_0/d/3/0_0.jpg?v=1731230799024" as="image"/>
	<link rel="preload" href="media/panorama_9D725DD6_BFC8_04C9_41DD_944F0A6C7BE2_0/f/3/0_0.jpg?v=1731230799024" as="image"/>
	<link rel="preload" href="media/panorama_9D725DD6_BFC8_04C9_41DD_944F0A6C7BE2_0/b/3/0_0.jpg?v=1731230799024" as="image"/>
	<script src="tdvquiz.js" type="text/javascript"></script>
	<meta name="description" content="Virtual Tour"/>
	<meta name="theme-color" content="#EEEEEE"/>
    <script src="script.js?v=1731230799024"></script>
    <style type="text/css">
        html, body { height:100%; width:100%; height:100vh; width:100vw; margin:0; padding:0; overflow:hidden; }
        .fill-viewport { position:fixed; top:0; left:0; right:0; bottom:0; padding:0; margin:0; overflow: hidden; }
        .fill-viewport.landscape-left { left: env(safe-area-inset-left); }
		.fill-viewport.landscape-right { right: env(safe-area-inset-right); }
        #viewer { z-index:1; }
        #preloadContainer { z-index:2; opacity:0; background-color:rgba(238,238,238,1); transition: opacity 0.5s; -webkit-transition: opacity 0.5s; -moz-transition: opacity 0.5s; -o-transition: opacity 0.5s;}
        .container {
            font-family: 'Gilroy Medium', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100vw;
            height: 100vh;
            background-color: #F5F3F0;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        /* Левая часть */
        .left-half {
            display: flex;
            flex-direction: column;
            justify-content: center;
            width: 43%;
            padding-left: 7vw;
            height: 100%;
            min-height: 100vh;
            background-color: #f5f3f0;
            box-sizing: border-box;
        }

        /* Заголовок и подзаголовок с уменьшенным расстоянием */
        .title-block {
            font-family: 'Gilroy Black', sans-serif;
            font-weight: 700; 
            color: #353535;
            padding-left: 3vh;
        } 
        .title {
            font-size: clamp(2rem, 4.2vw + 0.7vh, 5rem);
            line-height: 1em;
        }

        .sub-title {
            font-size: clamp(1.5rem, 4vw + 0.2vh, 3rem);
            line-height: 1em;
        }

        .text-block {
            font-family: 'Gilroy Medium', sans-serif;
            font-size: clamp(0.8rem, 1.8vw + 0.5vh, 1.8rem);
            font-weight: 700;
            color: #353535;
            line-height: 1.2em;
            padding-top: 4vh; 
        }

        .text-block ul {
            list-style-type: disc;
            padding-left: 2vw;
        }

        .button-block {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            margin-top: 5vh;
        }

        button {
            width: 30vw;
            height: 10vh;
            background-color: #259DAE;
            border: none;
            color: white;
            font-family: 'Gilroy Medium', sans-serif;
            font-size: clamp(0.8rem, 1.5vw + 0.5vh, 2rem);
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 1rem;
            position: relative;
            padding-right: 40px;
        }

        .loading {
            display: none;
            width: 5vh;
            height: 5vh;
            position: absolute;
            right: 5%;
            top: 50%;
            transform: translateY(-50%);
        }

        /* Правая часть */
        .right-half {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            width: 57%;
            overflow: hidden;
            height: 100%;
            min-height: 100vh;
            max-width: 100vw;
        }

        .responsive-img {
            width: 100%;
            height: auto;
            max-height: 100%;
            max-width: 100vw;
            object-fit: contain;
        }
        .hidden {
            display: none;
        }
    </style>
    <link rel="stylesheet" href="fonts.css?v=1731230799024">
</head>
<body>
    <div id="preloadContainer" class="fill-viewport hidden"><div style="z-index: 4; position: absolute; overflow: hidden; left: 0%; top: 50%; width: 100.00%; height: 10.00%" ><div style="text-align:left; color:#000; "><DIV STYLE="text-align:center;font-size:5.89101620029455vmin;"><SPAN STYLE="display:inline-block; letter-spacing:0vmin; white-space:pre-wrap;color:#777777;font-family:Arial, Helvetica, sans-serif;"><SPAN STYLE="font-size:5.89vmin;font-family:'Gilroy Light';">Загрузка виртуального тура...</SPAN></SPAN></DIV></div></div></div>
    <div id="viewer" class="fill-viewport hidden"></div>
    <div class="container">
        <!-- Левая часть -->
        <div class="left-half">
            <!-- Заголовок -->
            <div class="title-block">
                <span class="title">Дом Мешкова</span><br>
                <span class="sub-title">онлайн</span>
            </div>

            <!-- Список -->
            <div class="text-block">
                <ul>
                    <li>обзорная экскурсия</li>
                    <li>тематическая экскурсия</li>
                    <li>детский квест</li>
                    <li>экспонаты крупным планом</li>
                    <li>социальная история</li>
                    <li>карта сенсорной безопасности</li>
                </ul>
            </div>

            <!-- Кнопка -->
            <div class="button-block">
              <button id="startButton">
                начать прогулку
                <img class="loading" id="loading" src="loading.gif" alt="Загрузка" />
            </button>
          </div>  
        </div>

        <!-- Правая часть -->
        <div class="right-half">
            <img class="responsive-img" src="building.png" alt="Здание">
        </div>
    </div>
    <script>
        let loadingDuration = 10000; // 10 секунд
        let loadingTimeout; // Переменная для таймера
        let loadingStartTime = Date.now(); // Запоминаем время открытия страницы

        document.getElementById("startButton").addEventListener("click", () => {
            clearTimeout(loadingTimeout);

            // Вычисляем, сколько времени прошло
            let timeElapsed = Date.now() - loadingStartTime;

            // Если время прошло меньше 10 секунд, показываем loading на оставшееся время
            if (timeElapsed < loadingDuration) {
                // Показать индикатор загрузки
                document.querySelector(".loading").style.display = "block"; // Показываем индикатор загрузки

                let remainingTime = loadingDuration - timeElapsed; // Остаток времени

                // Убираем .container и плавно показываем preloadContainer и viewer по истечении времени
                loadingTimeout = setTimeout(() => {
                    document.getElementById("preloadContainer").classList.remove("hidden");
                    document.getElementById("viewer").classList.remove("hidden");
                    document.querySelector(".container").classList.add("hidden");
                }, remainingTime);
            } else {
                document.getElementById("preloadContainer").classList.remove("hidden");
                document.getElementById("viewer").classList.remove("hidden");
                document.querySelector(".container").classList.add("hidden");
            }
        });

    </script>
</body>
</html>